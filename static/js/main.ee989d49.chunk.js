(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIsSURBVHgB7Zhhq0FBEIbHcYmISJHI//9ZIlEiIiLuve/WlnxwZvcd17mn85SUsOfZnd2ZndJ+v/+WHJBITihEskYhkjUKkayRG5EvMeZ2u8l2u5XD4SCn00mu16v7vFarSbValXa7LZ1OR6wpWWb23/+S2WzmZF4BoX6/bypkJrJYLGS9Xgf9BjJ4WWCyR1arVbCE/x0mwAJaBPsBDxQLJmC32wkLLcJIeObzeeq+SoMSwWpcLhdh8ScdAyViERIeHNcMlIjPERacz2dhoESQ8KxgQ7SotQAytBUoYRgoEXbwR9hJoUSazaZY0Wq1hIESQdFXLpeFpVKpSLfbFQZKBBKj0UhYLApH+tTC/aLX60kskGBXA5gcv8PhMGpWMQFWZbzZDREPhFhHEZmW8ZMkkfF47FbTitI7er+bzcbdFpGtfekByXq9Lo1Gw4WSxSHxSKloYmcM8y4K9gfK++cuCvCdFCRSJEDLEscstI7HoyyXS/euBftlMBi4dxZaBBsaLaAQgWdQIeDUY1aIEkHoTKdTk+suJCaTiTvZYogWwR0bK2EN8ktM4y7q1MJKvEMC4H9j7u/BIggjhNM7iQnXYBHMmMWeeAXaQ6ErHiSCfcGcTiFgnJBeV5CIRVcxBPSFtR1ItYhVVzGEkA6kWgQV7SfQdjNVIliJv9obz2BcTXipRD4l4cHdJg2VCNtgZtGMrw6tT6LpMatELLvuMdzv99Tv/IsV0Yyfm6vuD0A4MWYqdiUgAAAAAElFTkSuQmCC"},31:function(e,t,n){e.exports=n(48)},37:function(e,t,n){},39:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(15),i=n.n(o),c=(n(37),n(39),n(4)),u=n(5),l=n(7),s=n(6),h=n(8),m=n(2),f=n(3),p={White:"#FFFFFF",Overcast:"#F1F1F2",WarmGray:"#BCBABE",Ice:"#A1D6E2",GlacierBlue:"#1995AD",Banana:"#FFDB5C"},d=n(52),b=n(51);var v=function(e){return a.a.createElement("div",null)},g=n(29),y=n(13),j=n(12),O=Object({NODE_ENV:"production",PUBLIC_URL:"/kudosapp-frontend"}).STORAGE_PREFIX||"kudosapp",k=function(e,t){return"".concat(O,"-").concat(e,"-").concat(t)},E=function(){function e(t){var n=this;Object(c.a)(this,e),this.getItem=function(e){return window.localStorage.getItem(k(n.prefix,e))},this.setItem=function(e,t){return window.localStorage.setItem(k(n.prefix,e),t)},this.removeItem=function(e){return window.localStorage.removeItem(k(n.prefix,e))},this.prefix=t}return Object(u.a)(e,null,[{key:"globalPrefix",get:function(){return O}}]),e}();var x=Object(r.createContext)(null),w=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).storage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new E(e)}("auth"),n.state={context:{authorized:!1,token:null,userId:null,userName:null}},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.getTokenFromParams();this.getTokenFromStorage()?this.startFromStoredData():this.isAtLogin()&&e&&this.startSessionFromAPIInfo()}},{key:"componentWillReceiveProps",value:function(e){e.location.pathname===t.logoutPath&&this.endSession()}},{key:"render",value:function(){return a.a.createElement(x.Provider,{value:this.state.context},this.props.children)}},{key:"startFromStoredData",value:function(){var e=this.getTokenFromStorage(),t=this.getUserFromStorage();try{var n=JSON.parse(t);this.isUserValid(n)?(this.setCredentials(Object(j.a)({token:e},n)),(this.isAtLogin()||this.isAtRoot())&&this.navigateIn()):this.handleInvalidUserData()}catch(r){this.handleInvalidUserData()}}},{key:"startSessionFromAPIInfo",value:function(){if(!this.areParamsValid())return this.handleInvalidUserData();var e=this.getTokenFromParams(),t=this.getUserFromParams();try{this.storeSessionInfo(Object(j.a)({token:e},t))}catch(n){this.handleInvalidUserData()}this.setCredentials(Object(j.a)({token:e},t)),this.navigateIn()}},{key:"endSession",value:function(){this.clearStoredData(),this.unsetCredentials(),this.navigateToRoot()}},{key:"setCredentials",value:function(e){var t=e.token,n=e.name,r=e.id;this.setState(function(e){return{context:Object(j.a)({},e.context,{token:t,authorized:Boolean(t),userName:n,userId:r})}})}},{key:"unsetCredentials",value:function(){this.setCredentials({token:null,name:null,id:null})}},{key:"isUserValid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.id;return Boolean(t&&n)}},{key:"areParamsValid",value:function(){return Object(y.a)(this.getParams().values()).reduce(function(e,t){return e&&Boolean(t)},!0)}},{key:"informAboutMalformedUserData",value:function(){alert("User data is invalid. You'll have to log in again.")}},{key:"handleInvalidUserData",value:function(){this.clearStoredData(),this.informAboutMalformedUserData()}},{key:"navigateIn",value:function(){this.props.history.push(t.entryPath)}},{key:"navigateToRoot",value:function(){this.props.history.push(t.rootPath)}},{key:"storeSessionInfo",value:function(e){var n=e.token,r=Object(g.a)(e,["token"]);this.storage.setItem(t.tokenStorageName,n),this.storage.setItem(t.userStorageName,JSON.stringify(r))}},{key:"getTokenFromStorage",value:function(){return this.storage.getItem(t.tokenStorageName)}},{key:"getUserFromStorage",value:function(){return this.storage.getItem(t.userStorageName)}},{key:"clearStoredData",value:function(){this.storage.removeItem(t.userStorageName),this.storage.removeItem(t.tokenStorageName)}},{key:"getParams",value:function(){return new URLSearchParams(this.props.location.search)}},{key:"getTokenFromParams",value:function(){return this.getParams().get(t.authTokenParamName)}},{key:"getUserFromParams",value:function(){var e=this.getParams();return{name:e.get(t.authUserParamName),id:e.get(t.authUserIdName)}}},{key:"isAtRoot",value:function(){return this.currentPath===t.rootPath}},{key:"isAtLogin",value:function(){return this.currentPath===t.loginPath}},{key:"currentPath",get:function(){return this.props.location.pathname}}]),t}(r.Component);w.tokenStorageName="token",w.userStorageName="user",w.authTokenParamName="token",w.authUserParamName="name",w.authUserIdName="id",w.loginPath="/login",w.entryPath="/wall",w.rootPath="/",w.logoutPath="/logout",w.Consumer=x.Consumer;var S=Object(b.a)(w);function A(e){return function(t){return a.a.createElement(S.Consumer,null,function(n){return a.a.createElement(e,Object.assign({},t,{authorization:n}))})}}function C(){var e=Object(m.a)(["\n  font-weight: bold;\n  font-size: 25px;\n  span {\n    color: ","\n  }\n"]);return C=function(){return e},e}function P(){var e=Object(m.a)(["\n  display: flex;\n  li {\n    font-size: 12px;\n    margin-left: 25px;\n    color: ","\n    text-transform: uppercase;\n    font-weight: 400;\n    letter-spacing: 0.5px;\n  }\n"]);return P=function(){return e},e}function I(){var e=Object(m.a)(["\n  width: 100%;\n  height: ","px;\n  background: ",";\n  border-bottom: 2px solid ",";\n  padding: 0 20px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  & > div {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      width: 100%;\n      max-width: 1000px;\n      margin: auto;\n  }\n"]);return I=function(){return e},e}var B=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(F,null,a.a.createElement("div",null,a.a.createElement(D,null,a.a.createElement(d.a,{to:"/"},a.a.createElement(v,null),"KUDOS",a.a.createElement("span",null,"ME"))),a.a.createElement(z,null,this.props.authorization.authorized&&a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(d.a,{to:"/wall",activeStyle:{color:p.Banana}},"Wall")),a.a.createElement("li",null,a.a.createElement(d.a,{to:"/stats",activeStyle:{color:p.Banana},exact:!0},"Statistics")),a.a.createElement("li",null,a.a.createElement(d.a,{to:"/stats/givers",activeStyle:{color:p.Banana}},"Givers")),a.a.createElement("li",null,a.a.createElement(d.a,{to:"/logout"},"Logout"))))))}}]),t}(r.Component),F=f.b.header(I(),70,p.White,p.Ice),z=f.b.ul(P(),p.WarmGray),D=f.b.h1(C(),p.Banana),U=A(Object(b.a)(B)),M=n(50),N=n(44),W=n(22),L=n.n(W);function T(){var e=Object(m.a)(["\n  color: ","\n  border-bottom: 1px solid;\n  \n  @media (min-width: 750px) {\n      position: absolute;\n      right: calc(100% + 10px);\n      top: -1rem;\n      width: 100px;\n  }\n"]);return T=function(){return e},e}var R=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"displayDate",value:function(){var e=new Date(this.props.date);return"".concat(e.getFullYear(),".").concat(e.getMonth()+1,".").concat(e.getDate())}},{key:"render",value:function(){return a.a.createElement(Y,null,this.displayDate())}}]),t}(r.Component),Y=f.b.div(T(),p.WarmGray);function G(){var e=Object(m.a)(["\n  height: 20px;\n  width: 20px;\n  margin: 0 2.5px;\n  border-radius: 50%;\n"]);return G=function(){return e},e}function K(){var e=Object(m.a)(["\n  height: 25px;\n  width: 25px;\n  margin: 0;\n  border-radius: 50%;\n  background-image: url(",");\n  background-size: cover;\n"]);return K=function(){return e},e}function J(){var e=Object(m.a)(["\n  font-size: 12px;\n"]);return J=function(){return e},e}function V(){var e=Object(m.a)(["\n  font-size: 16px;\n  line-height: 1.4em;\n  font-weight: 300;\n  margin: 5px 0 12px;\n"]);return V=function(){return e},e}function _(){var e=Object(m.a)(["\n  color: ","\n"]);return _=function(){return e},e}function q(){var e=Object(m.a)(["\n  font-weight: bold;\n  font-size: 14px;\n  margin-right: 3px;\n"]);return q=function(){return e},e}function Q(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n"]);return Q=function(){return e},e}function X(){var e=Object(m.a)(["\n  width: 100%;\n  background: ",";\n  box-sizing: border-box;\n  border-radius: 10px;\n  min-height: 50px;\n  margin-top: 20px;\n  padding: 20px;\n"]);return X=function(){return e},e}function Z(){var e=Object(m.a)(["\n  flex-grow: 2\n"]);return Z=function(){return e},e}function H(){var e=Object(m.a)(["\n  position: relative;\n  margin-top: ",";\n"]);return H=function(){return e},e}var $=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.givenTo,n=e.description,r=e.from,o=e.displayDate,i=e.createdAt;return a.a.createElement(ee,{spaced:o},o&&a.a.createElement(R,{date:i}),a.a.createElement(ne,null,a.a.createElement(re,null,a.a.createElement(te,null,a.a.createElement(ae,null,"KUDOS")," ","for",t.map(function(e,t){return a.a.createElement(oe,{key:t}," ",e.name," ")})),t.map(function(e,t){return a.a.createElement(ue,{image:e.avatar?e.avatar.image_24:L.a,key:t})})),a.a.createElement(ie,null,n),a.a.createElement(re,null,a.a.createElement(ce,null,"by ",a.a.createElement(oe,null,r.name)),a.a.createElement(le,{image:r.avatar.image_24?r.avatar.image_24:L.a}))))}}]),t}(r.Component),ee=f.b.div(H(),function(e){return e.spaced?"3rem":0}),te=f.b.h6(Z()),ne=f.b.li(X(),p.White),re=f.b.div(Q()),ae=f.b.strong(q()),oe=f.b.span(_(),p.GlacierBlue),ie=f.b.p(V()),ce=f.b.p(J()),ue=f.b.div(K(),function(e){return e.image}),le=Object(f.b)(ue)(G()),se=$,he=n(28),me=n(1),fe=n.n(me),pe=Object(r.createContext)(null),de=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).increaseFetchingCount=function(){return n.setState(function(e){var t=e.context;return{context:Object(j.a)({},t,{fetching:!0,count:t.count+1})}})},n.decreaseFetchingCount=function(){return n.setState(function(e){var t=e.context,n=Math.max(t.count-1,0);return{context:Object(j.a)({},t,{fetching:Boolean(n),count:n})}})},n.state={context:{fetching:!1,count:0,initiate:n.increaseFetchingCount,end:n.decreaseFetchingCount}},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(pe.Provider,{value:this.state.context},this.props.children)}}]),t}(r.Component);function be(e){return function(t){return a.a.createElement(de.Consumer,null,function(n){return a.a.createElement(e,Object.assign({},t,{networking:n}))})}}de.Consumer=pe.Consumer;var ve=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={inProgress:!1,done:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e,t){this.props.query!==e.query&&this.fetch({query:e.query,params:e.params})}},{key:"componentDidMount",value:function(){this.fetch({query:this.props.query,params:this.props.params})}},{key:"componentWillUnmount",value:function(){this.cancel()}},{key:"render",value:function(){return null}},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=e.query,n=e.params,r=this.props,a=r.authorized,o=r.authorization,i=r.networking,c=r.from,u=r.then,l=r.catch;a&&!o.authorized&&l({statusCode:403,error:"Forbidden",message:"Trying to make an authorized request without credentials."});var s=Object(j.a)({},a&&{Authorization:"Bearer ".concat(o.token)});c&&(this.controller=new AbortController,i.initiate(),fetch(this.createUrl({path:c,query:t,params:n}),{headers:s,signal:this.controller.signal}).then(function(e){if(e.status<400)return e.json();throw e}).then(u).catch(l).finally(i.end))})},{key:"cancel",value:function(){this.controller&&this.controller.abort()}},{key:"createUrl",value:function(e){var n=e.path,r=e.query,a=e.params,o=Object.entries(a||{}).reduce(function(e,t){var n=Object(he.a)(t,2),r=n[0],a=n[1];return e.replace(":".concat(r),a)},t.endpoint+n),i=new URL(o);return i.search=new URLSearchParams(r),i}}],[{key:"endpoint",get:function(){return"https://kudosapp-staging.herokuapp.com/"}}]),t}(r.Component);ve.handlersPropTypes={then:fe.a.func,catch:fe.a.func},ve.defaultProps={then:function(){},catch:function(){}};var ge=be(A(ve)),ye=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={page:0},n.normalize=function(e){return Object(j.a)({},e,{kudos:e.data.sort(function(e,t){return e.createdAt<t.createdAt?1:-1})})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(ge,{authorized:!0,from:"kudos",query:this.state,then:function(t){return e.props.then(e.normalize(t))},catch:this.props.catch})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.page!==t.page?{page:e.page}:null}}]),t}(r.Component);function je(){var e=Object(m.a)(["\n  animation: "," 1s linear infinite;\n  height: 40px;\n"]);return je=function(){return e},e}function Oe(){var e=Object(m.a)(["\n  from {\n    transform: rotate(360deg);\n  }\n\n  to {\n    transform: rotate(0deg);\n  }\n"]);return Oe=function(){return e},e}ye.defaultProps=Object(j.a)({},ve.defaultProps,{page:0});var ke=Object(f.c)(Oe()),Ee=f.b.svg(je(),ke),xe=function(){return a.a.createElement(Ee,{viewBox:"0 0 110 110",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"white"},a.a.createElement("circle",{cx:"57.5",cy:"102.5",r:"7.5"}),a.a.createElement("circle",{cx:"37",cy:"101",r:"6"}),a.a.createElement("circle",{cx:"96",cy:"43",r:"12"}),a.a.createElement("circle",{cx:"95",cy:"73",r:"11"}),a.a.createElement("circle",{cx:"79",cy:"94",r:"9"})))};var we=be(function(e){return e.networking.fetching?a.a.createElement(xe,null):null});function Se(){var e=Object(m.a)(["\n  border: 1px solid ","; \n  background: white;\n  color: black;\n  font-size: 2rem;\n  padding: 1rem 3rem;\n"]);return Se=function(){return e},e}var Ae=f.b.button(Se(),p.Banana);var Ce=be(function(e){var t=e.networking,n=e.onClick,r=e.children;return t.fetching?null:a.a.createElement(Ae,{onClick:n},r)});function Pe(){var e=Object(m.a)(["\n  margin: 2rem 0;\n  display: flex;\n  justify-content: center;\n"]);return Pe=function(){return e},e}function Ie(){var e=Object(m.a)(["\n   max-width: 500px;\n   margin: 0 auto 20px;\n"]);return Ie=function(){return e},e}var Be="more_available",Fe="more_unavailable",ze="unknown",De=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={kudos:[],page:0,moreAvailable:ze},n.addKudos=function(e){var t=e.kudos,r=e.hasNext;return n.setState(function(e){return{kudos:Object(y.a)(e.kudos).concat(Object(y.a)(t)),moreAvailable:r?Be:Fe}})},n.setNextPage=function(){return n.setState(function(e){return{page:e.page+1}})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"shouldDisplayDate",value:function(e,t,n){return 0===t||e.createdAt.substring(0,10)!==n[t-1].createdAt.substring(0,10)}},{key:"render",value:function(){var e=this,t=this.state,n=t.kudos,r=t.moreAvailable;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ye,{page:this.state.page,then:this.addKudos}),a.a.createElement(Ue,null,n.map(function(t,n,r){return a.a.createElement(se,Object.assign({key:n},t,{displayDate:e.shouldDisplayDate(t,n,r)}))})),a.a.createElement(Me,null,a.a.createElement(we,null),r!==Fe&&a.a.createElement(Ce,{onClick:this.setNextPage},"Load more"),r===Fe&&a.a.createElement("p",null,"No more Kudos available.")))}}]),t}(r.Component),Ue=f.b.ul(Ie()),Me=f.b.nav(Pe()),Ne=De;function We(){var e=Object(m.a)(["\n  width: 100%;\n  text-align: center;\n"]);return We=function(){return e},e}function Le(){var e=Object(m.a)(["\n  width: 100%;\n  text-align: center;\n"]);return Le=function(){return e},e}function Te(){var e=Object(m.a)(["\n  width: 100px;\n  background: ",";\n  height: calc(","%);\n  margin: 10px;\n  position: relative;\n"]);return Te=function(){return e},e}function Re(){var e=Object(m.a)(["\n   margin: 50px auto 0;\n   display: flex;\n   overflow-x: scroll;\n   padding: 20px 20px 60px;\n   li {\n    height: 50vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n   }\n"]);return Re=function(){return e},e}var Ye=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={top:0},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"calculateBar",value:function(e){var t=this.state.top;return e>0?e/t*100:0}},{key:"render",value:function(){var e=this,t=this.props.stats;return a.a.createElement(Ge,null,t.map(function(t,n){var r=t.value,o=t.label;return a.a.createElement("li",{key:n},a.a.createElement(Je,null,r),a.a.createElement(Ke,{best:r===e.state.top,height:e.calculateBar(r)}),a.a.createElement(Ve,null,o))}))}}],[{key:"getDerivedStateFromProps",value:function(e){return{top:e.stats.reduce(function(e,t){var n=t.value;return n>e?n:e},0)}}}]),t}(r.Component),Ge=f.b.ul(Re()),Ke=f.b.div(Te(),p.GlacierBlue,function(e){return e.height}),Je=f.b.div(Le()),Ve=f.b.div(We()),_e=Ye,qe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).normalize=function(e){return e.sort(n.compare).map(function(e){var t=e.totalPoints;return{label:e.user.name,value:t}})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"compare",value:function(e,t){return t.totalPoints-e.totalPoints}},{key:"render",value:function(){var e=this;return a.a.createElement(ge,{authorized:!0,from:"kudos/rankings",then:function(t){return e.props.then(e.normalize(t))},catch:this.props.catch})}}]),t}(r.Component);qe.defaultProps=ve.defaultProps;var Qe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={ranking:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ranking;return a.a.createElement(a.a.Fragment,null,a.a.createElement(qe,{then:function(t){return e.setState({ranking:t,loading:!1})}}),a.a.createElement(we,null),a.a.createElement(_e,{stats:t}))}}]),t}(r.Component),Xe=(new Date).getFullYear(),Ze=Array(Xe-2016+1).fill(0).map(function(e,t){return 2016+t}),He=function(){return Xe},$e=function(e){return e===Xe},et=(new Date).getMonth(),tt=function(){var e=new Date;return Array(12).fill(0).map(function(t,n){return e.setMonth(n),e.toLocaleDateString("en",{month:"long"})})}(),nt=function(){return tt.slice()},rt=function(e){return e===et};function at(){var e=Object(m.a)(["\n  transform: rotate(-135deg)\n"]);return at=function(){return e},e}function ot(){var e=Object(m.a)(["\n  transform: rotate(45deg)\n"]);return ot=function(){return e},e}function it(){var e=Object(m.a)(["\n    opacity: .5;\n    pointer-events: none;\n  "]);return it=function(){return e},e}function ct(){var e=Object(m.a)(["\n  margin-top: 50px;\n  width: 30px;\n  height: 30px;\n  display: block;\n  border-color: ",";\n  border-style: solid;\n  border-width: 0 0 5px 5px;\n  transition: opacity 250ms;\n  border-radius: 5px;\n  ",";\n"]);return ct=function(){return e},e}function ut(){var e=Object(m.a)(["\n      position: relative;\n      &:after {\n        content: '\u2b50\ufe0f';\n        position: absolute;\n        top: -5px;\n        left: calc(50% - 6px);\n        font-size: 0.6em;\n      }\n    "]);return ut=function(){return e},e}function lt(){var e=Object(m.a)(["\n  padding: .5em;\n  ","\n"]);return lt=function(){return e},e}function st(){var e=Object(m.a)(["\n  font-size: 1rem;\n  @media screen and (min-width: 1100px) {\n    display: none;\n  }\n"]);return st=function(){return e},e}function ht(){var e=Object(m.a)(["\n  font-size: 1.2rem;\n  @media screen and (max-width: 1099px) {\n    display: none;\n  }\n"]);return ht=function(){return e},e}function mt(){var e=Object(m.a)(["\n  font-size: 1.5rem\n"]);return mt=function(){return e},e}function ft(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n"]);return ft=function(){return e},e}function pt(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return pt=function(){return e},e}function dt(){var e=Object(m.a)(["\n  margin: 2rem 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return dt=function(){return e},e}var bt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).handleMonthSelect=function(e){var t=e.target.value;(0,n.props.history.push)(n.createUrl(Number(t)+1,n.currentYear))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"isMonthCurrent",value:function(e){return rt(e)&&$e(this.currentYear)}},{key:"createUrl",value:function(e,t){return"/stats/givers/".concat(t,"/").concat(e)}},{key:"createPrevLink",value:function(e,t){var n=1===e?12:e-1,r=1===e?t-1:t;return r<2016?"":this.createUrl(n,r)}},{key:"createNextLink",value:function(e,t){var n=12===e?1:e+1,r=12===e?t+1:t;return r>He()?"":this.createUrl(n,r)}},{key:"render",value:function(){var e=this;return a.a.createElement(vt,null,a.a.createElement(wt,{to:this.createPrevLink(this.currentMonth,this.currentYear)}),a.a.createElement(gt,null,a.a.createElement(jt,null,Ze.map(function(t){return a.a.createElement(Et,{key:t},a.a.createElement(d.a,{to:e.createUrl(e.currentMonth,t),activeStyle:{color:p.Banana},key:t},t))})),a.a.createElement(kt,{value:this.currentMonth-1,onChange:this.handleMonthSelect},nt().map(function(t,n){return a.a.createElement("option",{key:n,value:n},t,e.isMonthCurrent(n)?" (current)":"")})),a.a.createElement(Ot,null,nt().map(function(t,n){return a.a.createElement(Et,{key:n,current:e.isMonthCurrent(n)},a.a.createElement(d.a,{to:e.createUrl(n+1,e.currentYear),activeStyle:{color:p.Banana}},t))}))),a.a.createElement(St,{to:this.createNextLink(this.currentMonth,this.currentYear)}))}},{key:"currentMonth",get:function(){return Number(this.props.currentMonth)}},{key:"currentYear",get:function(){return Number(this.props.currentYear)}}]),t}(r.Component),vt=f.b.nav(dt()),gt=f.b.div(pt()),yt=f.b.ul(ft()),jt=Object(f.b)(yt)(mt()),Ot=Object(f.b)(yt)(ht()),kt=f.b.select(st()),Et=f.b.li(lt(),function(e){return e.current?Object(f.a)(ut()):""}),xt=Object(f.b)(d.a).attrs(function(e){return{disabled:!e.to}})(ct(),p.Banana,function(e){return e.disabled&&Object(f.a)(it())}),wt=Object(f.b)(xt)(ot()),St=Object(f.b)(xt)(at()),At=Object(b.a)(bt),Ct=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={stats:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(_e,{stats:this.state.stats})}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.stats;return t?{stats:t.map(function(e){return{label:e.from.name,value:e.quantity}})}:null}}]),t}(r.Component),Pt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(ge,{authorized:!0,params:{year:this.props.year,month:this.props.month},from:"kudos/from/:year/:month",then:this.props.then,catch:this.props.catch})}}]),t}(r.Component);function It(){var e=Object(m.a)(["\n  margin: 5rem auto 0;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  width: 80%;\n  font-size: 3rem;\n  font-weight: 100;\n  text-align: center;\n  line-height: 1.5;\n  color: cornflowerblue;\n"]);return It=function(){return e},e}function Bt(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 1150px;\n  margin: 0 auto;\n"]);return Bt=function(){return e},e}Pt.defaultProps=ve.defaultProps;var Ft=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={stats:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"renderNoStats",value:function(e,t){return rt(e)&&$e(t)?a.a.createElement(Dt,null,"It's a fresh month. So many KUDOS are waiting to be given. You can even give one yourself!",a.a.createElement("span",{role:"img","aria-label":"sparkling heart"},"\ud83d\udc96")):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:He();return t>He()||t===He()&&e>et}(e,t)?a.a.createElement(Dt,null,"This month is in the future. It's full of possibilities. KUDOS will flow.",a.a.createElement("span",{role:"img","aria-label":"praying hands"},"\ud83d\ude4f")):a.a.createElement(Dt,null,"This month, nobody gave a KUDO.",a.a.createElement("span",{role:"img","aria-label":"withered flower"},"\ud83e\udd40"))}},{key:"renderStatsSection",value:function(){var e=this.props.match.params,t=e.year,n=e.month,r=this.state.stats;return r.length?a.a.createElement(Ct,{stats:r}):this.renderNoStats(n-1,+t)}},{key:"componentDidMount",value:function(){if(!this.props.match.params.year){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1;this.props.history.push("/stats/givers/"+e+"/"+t)}}},{key:"render",value:function(){var e=this,t=this.props.match.params,n=t.year,r=t.month;return n&&r?a.a.createElement(zt,null,a.a.createElement(Pt,{year:n,month:r,then:function(t){return e.setState({stats:t,loading:!1})}}),a.a.createElement(At,{currentYear:n,currentMonth:r}),a.a.createElement(we,null),!this.props.networking.fetching&&this.renderStatsSection()):null}}]),t}(r.Component),zt=f.b.div(Bt()),Dt=f.b.p(It()),Ut=be(Ft),Mt=encodeURIComponent("https://kudosapp-staging.herokuapp.com/slack/redirect"),Nt="https://slack.com/oauth/authorize?scope=".concat("identity.basic","&client_id=").concat("9591341856.520040322359","&redirect_uri=").concat(Mt),Wt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("a",{href:Nt},a.a.createElement("img",{alt:"Login with Slack",src:"https://platform.slack-edge.com/img/sign_in_with_slack.png",srcSet:"https://platform.slack-edge.com/img/sign_in_with_slack.png 1x, https://platform.slack-edge.com/img/sign_in_with_slack@2x.png 2x"}))}}]),t}(r.Component);function Lt(){var e=Object(m.a)(["\n   color: ","\n"]);return Lt=function(){return e},e}function Tt(){var e=Object(m.a)(["\n   font-size: 16px;\n"]);return Tt=function(){return e},e}function Rt(){var e=Object(m.a)(["\n   color: ",";\n   font-size: 30px;\n   font-weight: bold;\n   margin-right: 30px;\n"]);return Rt=function(){return e},e}function Yt(){var e=Object(m.a)(["\n   max-width: 600px;\n   margin: 20px auto;\n   background: ",";\n   border-radius: 20px;\n   padding: 40px;\n   border: 2px solid ",";\n   li {\n    display: flex;\n    align-items: center;\n    padding: 20px;\n   }\n   h4 {\n    font-size: 20px;\n    font-weight: bold;\n    text-align: center;\n   }\n"]);return Yt=function(){return e},e}var Gt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(Kt,null,a.a.createElement("h4",null,"4 steps to be a hero!"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(Jt,null,"1"),a.a.createElement(Vt,null,"Log in to Slack")),a.a.createElement("li",null,a.a.createElement(Jt,null,"2"),a.a.createElement(Vt,null,"Open random conversation")),a.a.createElement("li",null,a.a.createElement(Jt,null,"3"),a.a.createElement(Vt,null,"Type ",a.a.createElement(_t,null,"/kudos\xa0@somebody; thank\xa0you for\xa0being\xa0awesome;"))),a.a.createElement("li",null,a.a.createElement(Jt,null,"4"),a.a.createElement(Vt,null,"You're a hero!"))))}}]),t}(r.Component),Kt=f.b.ul(Yt(),p.White,p.Ice),Jt=f.b.div(Rt(),p.Banana),Vt=f.b.div(Tt()),_t=f.b.span(Lt(),p.GlacierBlue),qt=Gt;function Qt(){var e=Object(m.a)(["\n  margin-top: 2em;\n  color: ","\n"]);return Qt=function(){return e},e}function Xt(){var e=Object(m.a)(["\n  max-width: 600px;\n  font-size: 1rem;\n  margin-bottom: 2rem\n"]);return Xt=function(){return e},e}function Zt(){var e=Object(m.a)(["\n  font-size: 3rem;\n  margin: 1rem;\n  color: ",";\n"]);return Zt=function(){return e},e}function Ht(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  line-height: 1.4;\n"]);return Ht=function(){return e},e}var $t=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(en,null,a.a.createElement(tn,null,"Kudos for coming!"),a.a.createElement(nn,null,"This app helps to show our thankfulness."),a.a.createElement(Wt,null),a.a.createElement(rn,null,"We're happy you're here! ",a.a.createElement("span",{role:"img","aria-label":"Hug emoji"},"\ud83e\udd17")),a.a.createElement(qt,null))}}]),t}(r.Component),en=f.b.section(Ht()),tn=f.b.h1(Zt(),p.GlacierBlue),nn=f.b.h2(Xt()),rn=f.b.p(Qt(),p.WarmGray),an=$t,on=A(function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.authorization.authorized||this.props.history.push(S.loginPath)}},{key:"render",value:function(){return this.props.authorization.authorized?this.props.children:null}}]),t}(r.Component));function cn(e){return function(t){return a.a.createElement(on,t,a.a.createElement(e,t))}}function un(){var e=Object(m.a)(["\n  width: 100%;\n  height: calc(100vh - ","px);\n  overflow: scroll;\n  padding: 0 20px;\n  box-sizing: border-box;\n"]);return un=function(){return e},e}function ln(){var e=Object(m.a)(["\n   background: ",";\n   width: 100vw;\n   height: 100vh;\n   overflow: hidden;\n"]);return ln=function(){return e},e}var sn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(hn,null,a.a.createElement(U,null),a.a.createElement(mn,null,a.a.createElement(M.a,null,a.a.createElement(N.a,{exact:!0,path:"/",component:an}),a.a.createElement(N.a,{exact:!0,path:"/wall",component:cn(Ne)}),a.a.createElement(N.a,{exact:!0,path:"/stats",component:cn(Qe)}),a.a.createElement(N.a,{path:"/stats/givers/:year?/:month?",component:cn(Ut)}))))}}]),t}(r.Component),hn=f.b.div(ln(),p.Overcast),mn=f.b.main(un(),70),fn=sn,pn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(S,null,a.a.createElement(de,null,a.a.createElement(fn,null)))}}]),t}(r.Component),dn=n(49);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(dn.a,null,a.a.createElement(pn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,2,1]]]);
//# sourceMappingURL=main.ee989d49.chunk.js.map