(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIsSURBVHgB7Zhhq0FBEIbHcYmISJHI//9ZIlEiIiLuve/WlnxwZvcd17mn85SUsOfZnd2ZndJ+v/+WHJBITihEskYhkjUKkayRG5EvMeZ2u8l2u5XD4SCn00mu16v7vFarSbValXa7LZ1OR6wpWWb23/+S2WzmZF4BoX6/bypkJrJYLGS9Xgf9BjJ4WWCyR1arVbCE/x0mwAJaBPsBDxQLJmC32wkLLcJIeObzeeq+SoMSwWpcLhdh8ScdAyViERIeHNcMlIjPERacz2dhoESQ8KxgQ7SotQAytBUoYRgoEXbwR9hJoUSazaZY0Wq1hIESQdFXLpeFpVKpSLfbFQZKBBKj0UhYLApH+tTC/aLX60kskGBXA5gcv8PhMGpWMQFWZbzZDREPhFhHEZmW8ZMkkfF47FbTitI7er+bzcbdFpGtfekByXq9Lo1Gw4WSxSHxSKloYmcM8y4K9gfK++cuCvCdFCRSJEDLEscstI7HoyyXS/euBftlMBi4dxZaBBsaLaAQgWdQIeDUY1aIEkHoTKdTk+suJCaTiTvZYogWwR0bK2EN8ktM4y7q1MJKvEMC4H9j7u/BIggjhNM7iQnXYBHMmMWeeAXaQ6ErHiSCfcGcTiFgnJBeV5CIRVcxBPSFtR1ItYhVVzGEkA6kWgQV7SfQdjNVIliJv9obz2BcTXipRD4l4cHdJg2VCNtgZtGMrw6tT6LpMatELLvuMdzv99Tv/IsV0Yyfm6vuD0A4MWYqdiUgAAAAAElFTkSuQmCC"},31:function(e,t,n){e.exports=n(48)},37:function(e,t,n){},39:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(16),i=n.n(o),c=(n(37),n(39),n(4)),u=n(5),l=n(7),s=n(6),h=n(8),m=n(1),f=n(2),p={White:"#FFFFFF",Overcast:"#F1F1F2",WarmGray:"#BCBABE",Ice:"#A1D6E2",GlacierBlue:"#1995AD",Banana:"#FFDB5C"},b=n(52),d=n(51);var v=function(e){return a.a.createElement("div",null)},g=n(13),j=n(14),O=n(10),y=Object({NODE_ENV:"production",PUBLIC_URL:"/kudosapp-frontend"}).STORAGE_PREFIX||"kudosapp",E=function(e,t){return"".concat(y,"-").concat(e,"-").concat(t)},k=function(){function e(t){var n=this;Object(c.a)(this,e),this.getItem=function(e){return window.localStorage.getItem(E(n.prefix,e))},this.setItem=function(e,t){return window.localStorage.setItem(E(n.prefix,e),t)},this.removeItem=function(e){return window.localStorage.removeItem(E(n.prefix,e))},this.prefix=t}return Object(u.a)(e,null,[{key:"globalPrefix",get:function(){return y}}]),e}();var x=Object(r.createContext)(null),w=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).storage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new k(e)}("auth"),n.state={context:{authorized:!1,token:null,userId:null,userName:null,endSession:function(){return n.endSession()}}},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){var e=this.getTokenFromParams();this.getTokenFromStorage()?this.startFromStoredData():this.isAtLogin()&&e&&this.startSessionFromAPIInfo()}},{key:"render",value:function(){return a.a.createElement(x.Provider,{value:this.state.context},this.props.children)}},{key:"startFromStoredData",value:function(){var e=this.getTokenFromStorage(),t=this.getUserFromStorage();try{var n=JSON.parse(t);this.isUserValid(n)?(this.setCredentials(Object(O.a)({token:e},n)),(this.isAtLogin()||this.isAtRoot())&&this.navigateIn()):this.handleInvalidUserData()}catch(r){this.handleInvalidUserData()}}},{key:"startSessionFromAPIInfo",value:function(){if(!this.areParamsValid())return this.handleInvalidUserData();var e=this.getTokenFromParams(),t=this.getUserFromParams();try{this.storeSessionInfo(Object(O.a)({token:e},t))}catch(n){this.handleInvalidUserData()}this.setCredentials(Object(O.a)({token:e},t)),this.navigateIn()}},{key:"endSession",value:function(){this.clearStoredData(),this.unsetCredentials(),this.navigateToRoot()}},{key:"setCredentials",value:function(e){var t=e.token,n=e.name,r=e.id;this.setState(function(e){return{context:Object(O.a)({},e.context,{token:t,authorized:Boolean(t),userName:n,userId:r})}})}},{key:"unsetCredentials",value:function(){this.setCredentials({token:null,name:null,id:null})}},{key:"isUserValid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,n=e.id;return Boolean(t&&n)}},{key:"areParamsValid",value:function(){return Object(j.a)(this.getParams().values()).reduce(function(e,t){return e&&Boolean(t)},!0)}},{key:"informAboutMalformedUserData",value:function(){alert("User data is invalid. You'll have to log in again.")}},{key:"handleInvalidUserData",value:function(){this.clearStoredData(),this.informAboutMalformedUserData()}},{key:"navigateIn",value:function(){this.props.history.push(t.entryPath)}},{key:"navigateToRoot",value:function(){this.props.history.push(t.rootPath)}},{key:"storeSessionInfo",value:function(e){var n=e.token,r=Object(g.a)(e,["token"]);this.storage.setItem(t.tokenStorageName,n),this.storage.setItem(t.userStorageName,JSON.stringify(r))}},{key:"getTokenFromStorage",value:function(){return this.storage.getItem(t.tokenStorageName)}},{key:"getUserFromStorage",value:function(){return this.storage.getItem(t.userStorageName)}},{key:"clearStoredData",value:function(){this.storage.removeItem(t.userStorageName),this.storage.removeItem(t.tokenStorageName)}},{key:"getParams",value:function(){return new URLSearchParams(this.props.location.search)}},{key:"getTokenFromParams",value:function(){return this.getParams().get(t.authTokenParamName)}},{key:"getUserFromParams",value:function(){var e=this.getParams();return{name:e.get(t.authUserParamName),id:e.get(t.authUserIdName)}}},{key:"isAtRoot",value:function(){return this.currentPath===t.rootPath}},{key:"isAtLogin",value:function(){return this.currentPath===t.loginPath}},{key:"currentPath",get:function(){return this.props.location.pathname}}]),t}(r.Component);w.tokenStorageName="token",w.userStorageName="user",w.authTokenParamName="token",w.authUserParamName="name",w.authUserIdName="id",w.loginPath="/login",w.entryPath="/wall",w.rootPath="/",w.Consumer=x.Consumer;var S=Object(d.a)(w);function A(e){return function(t){return a.a.createElement(S.Consumer,null,function(n){return a.a.createElement(e,Object.assign({},t,{authorization:n}))})}}function C(){var e=Object(m.a)(["\n  font-weight: bold;\n  font-size: 25px;\n  span {\n    color: ","\n  }\n"]);return C=function(){return e},e}function I(){var e=Object(m.a)(["\n  display: flex;\n  li {\n    font-size: 12px;\n    margin-left: 25px;\n    color: ","\n    text-transform: uppercase;\n    font-weight: 400;\n    letter-spacing: 0.5px;\n  }\n"]);return I=function(){return e},e}function F(){var e=Object(m.a)(["\n  width: 100%;\n  height: ","px;\n  background: ",";\n  border-bottom: 2px solid ",";\n  padding: 0 20px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  & > div {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      width: 100%;\n      max-width: 1000px;\n      margin: auto;\n  }\n"]);return F=function(){return e},e}var B=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(D,null,a.a.createElement("div",null,a.a.createElement(P,null,a.a.createElement(b.a,{to:"/"},a.a.createElement(v,null),"KUDOS",a.a.createElement("span",null,"ME"))),a.a.createElement(z,null,this.props.authorization.authorized&&a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(b.a,{to:"/wall",activeStyle:{color:p.Banana}},"Wall")),a.a.createElement("li",null,a.a.createElement(b.a,{to:"/stats",activeStyle:{color:p.Banana},exact:!0},"Statistics")),a.a.createElement("li",null,a.a.createElement(b.a,{to:"/stats/givers",activeStyle:{color:p.Banana}},"Givers")),a.a.createElement("li",null,a.a.createElement(b.a,{to:"/logout"},"Logout"))))))}}]),t}(r.Component),D=f.b.header(F(),70,p.White,p.Ice),z=f.b.ul(I(),p.WarmGray),P=f.b.h1(C(),p.Banana),U=A(Object(d.a)(B)),M=n(50),N=n(44),L=n(23),W=n.n(L);function R(){var e=Object(m.a)(["\n  color: ","\n  border-bottom: 1px solid;\n  \n  @media (min-width: 750px) {\n      position: absolute;\n      right: calc(100% + 10px);\n      top: -1rem;\n      width: 100px;\n  }\n"]);return R=function(){return e},e}var T=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"displayDate",value:function(){var e=new Date(this.props.date);return"".concat(e.getFullYear(),".").concat(e.getMonth()+1,".").concat(e.getDate())}},{key:"render",value:function(){return a.a.createElement(Y,null,this.displayDate())}}]),t}(r.Component),Y=f.b.div(R(),p.WarmGray);function q(){var e=Object(m.a)(["\n  height: 20px;\n  width: 20px;\n  margin: 0 2.5px;\n  border-radius: 50%;\n"]);return q=function(){return e},e}function G(){var e=Object(m.a)(["\n  height: 25px;\n  width: 25px;\n  margin: 0;\n  border-radius: 50%;\n  background-image: url(",");\n  background-size: cover;\n"]);return G=function(){return e},e}function J(){var e=Object(m.a)(["\n  font-size: 12px;\n"]);return J=function(){return e},e}function K(){var e=Object(m.a)(["\n  font-size: 16px;\n  line-height: 1.4em;\n  font-weight: 300;\n  margin: 5px 0 12px;\n"]);return K=function(){return e},e}function V(){var e=Object(m.a)(["\n  color: ","\n"]);return V=function(){return e},e}function Q(){var e=Object(m.a)(["\n  font-weight: bold;\n  font-size: 14px;\n  margin-right: 3px;\n"]);return Q=function(){return e},e}function X(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n"]);return X=function(){return e},e}function Z(){var e=Object(m.a)(["\n  width: 100%;\n  background: ",";\n  box-sizing: border-box;\n  border-radius: 10px;\n  min-height: 50px;\n  margin-top: 20px;\n  padding: 20px;\n"]);return Z=function(){return e},e}function _(){var e=Object(m.a)(["\n  flex-grow: 2\n"]);return _=function(){return e},e}function H(){var e=Object(m.a)(["\n  position: relative;\n  margin-top: ",";\n"]);return H=function(){return e},e}var $=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.givenTo,n=e.description,r=e.from,o=e.displayDate,i=e.createdAt;return a.a.createElement(ee,{spaced:o},o&&a.a.createElement(T,{date:i}),a.a.createElement(ne,null,a.a.createElement(re,null,a.a.createElement(te,null,a.a.createElement(ae,null,"KUDOS")," ","for",t.map(function(e,t){return a.a.createElement(oe,{key:t}," ",e.name," ")})),t.map(function(e,t){return a.a.createElement(ue,{image:e.avatar?e.avatar.image_24:W.a,key:t})})),a.a.createElement(ie,null,n),a.a.createElement(re,null,a.a.createElement(ce,null,"by ",a.a.createElement(oe,null,r.name)),a.a.createElement(le,{image:r.avatar.image_24?r.avatar.image_24:W.a}))))}}]),t}(r.Component),ee=f.b.div(H(),function(e){return e.spaced?"3rem":0}),te=f.b.h6(_()),ne=f.b.li(Z(),p.White),re=f.b.div(X()),ae=f.b.strong(Q()),oe=f.b.span(V(),p.GlacierBlue),ie=f.b.p(K()),ce=f.b.p(J()),ue=f.b.div(G(),function(e){return e.image}),le=Object(f.b)(ue)(q()),se=$,he=n(29),me=Object(r.createContext)(null),fe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).increaseFetchingCount=function(){return n.setState(function(e){var t=e.context;return{context:Object(O.a)({},t,{fetching:!0,count:t.count+1})}})},n.decreaseFetchingCount=function(){return n.setState(function(e){var t=e.context,n=Math.max(t.count-1,0);return{context:Object(O.a)({},t,{fetching:Boolean(n),count:n})}})},n.state={context:{fetching:!1,count:0,initiate:n.increaseFetchingCount,end:n.decreaseFetchingCount}},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(me.Provider,{value:this.state.context},this.props.children)}}]),t}(r.Component);function pe(e){return function(t){return a.a.createElement(fe.Consumer,null,function(n){return a.a.createElement(e,Object.assign({},t,{networking:n}))})}}fe.Consumer=me.Consumer;var be=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={loading:!1,error:null},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.query!==e.query&&this.fetch({query:e.query,params:e.params})}},{key:"componentDidMount",value:function(){this.fetch({query:this.props.query,params:this.props.params})}},{key:"componentWillUnmount",value:function(){this.cancel()}},{key:"render",value:function(){if(this.state.error)throw this.state.error;return this.props.children?this.props.children(this.state):null}},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){var t=this,n=e.query,r=e.params,a=this.props,o=a.authorized,i=a.authorization,c=a.networking,u=a.from;if(!o||i.authorized){var l=Object(O.a)({},o&&{Authorization:"Bearer ".concat(i.token)});u&&(this.setState({loading:!0}),this.controller=new AbortController,c.initiate(),fetch(this.createUrl({path:u,query:n,params:r}),{headers:l,signal:this.controller.signal}).then(function(e){if(e.status<400)return e.json();throw e}).then(function(e){return t.setState({loading:!1,response:e})}).then(function(e){return t.props.then(e)}).catch(function(e){return t.setState({loading:!1,error:e})}).finally(c.end))}else{this.setState({error:{status:403,error:"Forbidden",message:"Trying to make an authorized request without credentials."},loading:!1})}})},{key:"cancel",value:function(){this.controller&&this.controller.abort()}},{key:"createUrl",value:function(e){var n=e.path,r=e.query,a=e.params,o=Object.entries(a||{}).reduce(function(e,t){var n=Object(he.a)(t,2),r=n[0],a=n[1];return e.replace(":".concat(r),a)},t.endpoint+n),i=new URL(o);return i.search=new URLSearchParams(r),i}}],[{key:"endpoint",get:function(){return"https://kudosapp-staging.herokuapp.com/"}}]),t}(r.Component);be.defaultProps={then:function(){}};var de=pe(A(be)),ve=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={page:0},n.kudos=[],n.storedPageIndex=-1,n.next=function(){return n.setState(function(e){return{page:e.page+1}})},n.handleResponse=function(e){if(!e)return{kudos:n.kudos,hasNext:!1};if(n.storedPageIndex!=e.page){var t=e.data.sort(function(e,t){return e.createdAt<t.createdAt?1:-1});n.kudos=Object(j.a)(n.kudos).concat(Object(j.a)(t)),n.storedPageIndex=e.page}return Object(O.a)({},e,{kudos:n.kudos})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(de,{authorized:!0,from:"kudos",query:this.state},function(t){var n=t.response,r=Object(g.a)(t,["response"]);return e.props.children(Object(O.a)({},r,{response:e.handleResponse(n)}))})}}]),t}(r.Component);function ge(){var e=Object(m.a)(["\n  animation: "," 1s linear infinite;\n  height: 40px;\n"]);return ge=function(){return e},e}function je(){var e=Object(m.a)(["\n  from {\n    transform: rotate(360deg);\n  }\n\n  to {\n    transform: rotate(0deg);\n  }\n"]);return je=function(){return e},e}var Oe=Object(f.c)(je()),ye=f.b.svg(ge(),Oe),Ee=function(){return a.a.createElement(ye,{viewBox:"0 0 110 110",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("g",{fill:"white"},a.a.createElement("circle",{cx:"57.5",cy:"102.5",r:"7.5"}),a.a.createElement("circle",{cx:"37",cy:"101",r:"6"}),a.a.createElement("circle",{cx:"96",cy:"43",r:"12"}),a.a.createElement("circle",{cx:"95",cy:"73",r:"11"}),a.a.createElement("circle",{cx:"79",cy:"94",r:"9"})))};var ke=pe(function(e){return e.networking.fetching?a.a.createElement(Ee,null):null});function xe(){var e=Object(m.a)(["\n  border: 1px solid ","; \n  background: white;\n  color: black;\n  font-size: 2rem;\n  padding: 1rem 3rem;\n"]);return xe=function(){return e},e}var we=f.b.button(xe(),p.Banana);var Se=pe(function(e){var t=e.networking,n=e.onClick,r=e.children;return t.fetching?null:a.a.createElement(we,{onClick:n},r)});function Ae(){var e=Object(m.a)(["\n  margin: 2rem 0;\n  display: flex;\n  justify-content: center;\n"]);return Ae=function(){return e},e}function Ce(){var e=Object(m.a)(["\n   max-width: 500px;\n   margin: 0 auto 20px;\n"]);return Ce=function(){return e},e}var Ie=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).request=Object(r.createRef)(),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"shouldDisplayDate",value:function(e,t,n){return 0===t||e.createdAt.substring(0,10)!==n[t-1].createdAt.substring(0,10)}},{key:"render",value:function(){var e=this;return a.a.createElement(ve,{ref:this.request},function(t){var n=t.loading,r=t.response,o=r.kudos,i=r.hasNext;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Fe,null,o.map(function(t,n,r){return a.a.createElement(se,Object.assign({key:n},t,{displayDate:e.shouldDisplayDate(t,n,r)}))})),a.a.createElement(Be,null,a.a.createElement(ke,null),i&&a.a.createElement(Se,{onClick:e.request.current.next},"Load more"),!i&&!n&&a.a.createElement("p",null,"No more Kudos available.")))})}}]),t}(r.Component),Fe=f.b.ul(Ce()),Be=f.b.nav(Ae()),De=Ie;function ze(){var e=Object(m.a)(["\n  width: 100%;\n  text-align: center;\n"]);return ze=function(){return e},e}function Pe(){var e=Object(m.a)(["\n  width: 100%;\n  text-align: center;\n"]);return Pe=function(){return e},e}function Ue(){var e=Object(m.a)(["\n  width: 100px;\n  background: ",";\n  height: calc(","%);\n  margin: 10px;\n  position: relative;\n"]);return Ue=function(){return e},e}function Me(){var e=Object(m.a)(["\n   margin: 50px auto 0;\n   display: flex;\n   overflow-x: scroll;\n   padding: 20px 20px 60px;\n   li {\n    height: 50vh;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-end;\n   }\n"]);return Me=function(){return e},e}var Ne=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={top:0},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"calculateBar",value:function(e){var t=this.state.top;return e>0?e/t*100:0}},{key:"render",value:function(){var e=this,t=this.props.stats;return a.a.createElement(Le,null,t.map(function(t,n){var r=t.value,o=t.label;return a.a.createElement("li",{key:n},a.a.createElement(Re,null,r),a.a.createElement(We,{best:r===e.state.top,height:e.calculateBar(r)}),a.a.createElement(Te,null,o))}))}}],[{key:"getDerivedStateFromProps",value:function(e){return{top:e.stats.reduce(function(e,t){var n=t.value;return n>e?n:e},0)}}}]),t}(r.Component),Le=f.b.ul(Me()),We=f.b.div(Ue(),p.GlacierBlue,function(e){return e.height}),Re=f.b.div(Pe()),Te=f.b.div(ze()),Ye=Ne,qe=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).normalize=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).sort(n.compare).map(function(e){var t=e.totalPoints;return{label:e.user.name,value:t}})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"compare",value:function(e,t){return t.totalPoints-e.totalPoints}},{key:"render",value:function(){var e=this;return a.a.createElement(de,{authorized:!0,from:"kudos/rankings"},function(t){var n=t.response,r=Object(g.a)(t,["response"]);return e.props.children(Object(O.a)({},r,{response:e.normalize(n)}))})}}]),t}(r.Component),Ge=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(qe,null,function(e){var t=e.response;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ke,null),a.a.createElement(Ye,{stats:t}))})}}]),t}(r.Component),Je=(new Date).getFullYear(),Ke=Array(Je-2016+1).fill(0).map(function(e,t){return 2016+t}),Ve=function(){return Je},Qe=function(e){return e===Je},Xe=(new Date).getMonth(),Ze=function(){var e=new Date;return Array(12).fill(0).map(function(t,n){return e.setMonth(n),e.toLocaleDateString("en",{month:"long"})})}(),_e=function(){return Ze.slice()},He=function(e){return e===Xe};function $e(){var e=Object(m.a)(["\n  transform: rotate(-135deg)\n"]);return $e=function(){return e},e}function et(){var e=Object(m.a)(["\n  transform: rotate(45deg)\n"]);return et=function(){return e},e}function tt(){var e=Object(m.a)(["\n    opacity: .5;\n    pointer-events: none;\n  "]);return tt=function(){return e},e}function nt(){var e=Object(m.a)(["\n  margin-top: 50px;\n  width: 30px;\n  height: 30px;\n  display: block;\n  border-color: ",";\n  border-style: solid;\n  border-width: 0 0 5px 5px;\n  transition: opacity 250ms;\n  border-radius: 5px;\n  ",";\n"]);return nt=function(){return e},e}function rt(){var e=Object(m.a)(["\n      position: relative;\n      &:after {\n        content: '\u2b50\ufe0f';\n        position: absolute;\n        top: -5px;\n        left: calc(50% - 6px);\n        font-size: 0.6em;\n      }\n    "]);return rt=function(){return e},e}function at(){var e=Object(m.a)(["\n  padding: .5em;\n  ","\n"]);return at=function(){return e},e}function ot(){var e=Object(m.a)(["\n  font-size: 1rem;\n  @media screen and (min-width: 1100px) {\n    display: none;\n  }\n"]);return ot=function(){return e},e}function it(){var e=Object(m.a)(["\n  font-size: 1.2rem;\n  @media screen and (max-width: 1099px) {\n    display: none;\n  }\n"]);return it=function(){return e},e}function ct(){var e=Object(m.a)(["\n  font-size: 1.5rem\n"]);return ct=function(){return e},e}function ut(){var e=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n"]);return ut=function(){return e},e}function lt(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return lt=function(){return e},e}function st(){var e=Object(m.a)(["\n  margin: 2rem 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return st=function(){return e},e}var ht=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).handleMonthSelect=function(e){var t=e.target.value;(0,n.props.history.push)(n.createUrl(Number(t)+1,n.currentYear))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"isMonthCurrent",value:function(e){return He(e)&&Qe(this.currentYear)}},{key:"createUrl",value:function(e,t){return"/stats/givers/".concat(t,"/").concat(e)}},{key:"createPrevLink",value:function(e,t){var n=1===e?12:e-1,r=1===e?t-1:t;return r<2016?"":this.createUrl(n,r)}},{key:"createNextLink",value:function(e,t){var n=12===e?1:e+1,r=12===e?t+1:t;return r>Ve()?"":this.createUrl(n,r)}},{key:"render",value:function(){var e=this;return a.a.createElement(mt,null,a.a.createElement(Ot,{to:this.createPrevLink(this.currentMonth,this.currentYear)}),a.a.createElement(ft,null,a.a.createElement(bt,null,Ke.map(function(t){return a.a.createElement(gt,{key:t},a.a.createElement(b.a,{to:e.createUrl(e.currentMonth,t),activeStyle:{color:p.Banana},key:t},t))})),a.a.createElement(vt,{value:this.currentMonth-1,onChange:this.handleMonthSelect},_e().map(function(t,n){return a.a.createElement("option",{key:n,value:n},t,e.isMonthCurrent(n)?" (current)":"")})),a.a.createElement(dt,null,_e().map(function(t,n){return a.a.createElement(gt,{key:n,current:e.isMonthCurrent(n)},a.a.createElement(b.a,{to:e.createUrl(n+1,e.currentYear),activeStyle:{color:p.Banana}},t))}))),a.a.createElement(yt,{to:this.createNextLink(this.currentMonth,this.currentYear)}))}},{key:"currentMonth",get:function(){return Number(this.props.currentMonth)}},{key:"currentYear",get:function(){return Number(this.props.currentYear)}}]),t}(r.Component),mt=f.b.nav(st()),ft=f.b.div(lt()),pt=f.b.ul(ut()),bt=Object(f.b)(pt)(ct()),dt=Object(f.b)(pt)(it()),vt=f.b.select(ot()),gt=f.b.li(at(),function(e){return e.current?Object(f.a)(rt()):""}),jt=Object(f.b)(b.a).attrs(function(e){return{disabled:!e.to}})(nt(),p.Banana,function(e){return e.disabled&&Object(f.a)(tt())}),Ot=Object(f.b)(jt)(et()),yt=Object(f.b)(jt)($e()),Et=Object(d.a)(ht),kt=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={stats:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(Ye,{stats:this.state.stats})}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.stats;return t?{stats:t.map(function(e){return{label:e.from.name,value:e.quantity}})}:null}}]),t}(r.Component),xt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(de,{authorized:!0,params:{year:this.props.year,month:this.props.month},from:"kudos/from/:year/:month"},function(t){var n=t.response,r=Object(g.a)(t,["response"]);return e.props.children(Object(O.a)({},r,{response:n}))})}}]),t}(r.Component);function wt(){var e=Object(m.a)(["\n  margin: 5rem auto 0;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  width: 80%;\n  font-size: 3rem;\n  font-weight: 100;\n  text-align: center;\n  line-height: 1.5;\n  color: cornflowerblue;\n"]);return wt=function(){return e},e}function St(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  max-width: 1150px;\n  margin: 0 auto;\n"]);return St=function(){return e},e}var At=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={stats:[]},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"renderNoStats",value:function(e,t){return He(e)&&Qe(t)?a.a.createElement(It,null,"It's a fresh month. So many KUDOS are waiting to be given. You can even give one yourself!",a.a.createElement("span",{role:"img","aria-label":"sparkling heart"},"\ud83d\udc96")):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ve();return t>Ve()||t===Ve()&&e>Xe}(e,t)?a.a.createElement(It,null,"This month is in the future. It's full of possibilities. KUDOS will flow.",a.a.createElement("span",{role:"img","aria-label":"praying hands"},"\ud83d\ude4f")):a.a.createElement(It,null,"This month, nobody gave a KUDO.",a.a.createElement("span",{role:"img","aria-label":"withered flower"},"\ud83e\udd40"))}},{key:"renderStatsSection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.props.match.params,n=t.year,r=t.month;return e.length?a.a.createElement(kt,{stats:e}):this.renderNoStats(r-1,+n)}},{key:"componentDidMount",value:function(){if(!this.props.match.params.year){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1;this.props.history.push("/stats/givers/"+e+"/"+t)}}},{key:"render",value:function(){var e=this,t=this.props.match.params,n=t.year,r=t.month;return n&&r?a.a.createElement(Ct,null,a.a.createElement(xt,{year:n,month:r,then:function(t){return e.setState({stats:t,loading:!1})}},function(t){var o=t.loading,i=t.response;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Et,{currentYear:n,currentMonth:r}),a.a.createElement(ke,null),!o&&e.renderStatsSection(i))})):null}}]),t}(r.Component),Ct=f.b.div(St()),It=f.b.p(wt()),Ft=pe(At),Bt=encodeURIComponent("https://kudosapp-staging.herokuapp.com/slack/redirect"),Dt="https://slack.com/oauth/authorize?scope=".concat("identity.basic","&client_id=").concat("9591341856.520040322359","&redirect_uri=").concat(Bt),zt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("a",{href:Dt},a.a.createElement("img",{alt:"Login with Slack",src:"https://platform.slack-edge.com/img/sign_in_with_slack.png",srcSet:"https://platform.slack-edge.com/img/sign_in_with_slack.png 1x, https://platform.slack-edge.com/img/sign_in_with_slack@2x.png 2x"}))}}]),t}(r.Component);function Pt(){var e=Object(m.a)(["\n   color: ","\n"]);return Pt=function(){return e},e}function Ut(){var e=Object(m.a)(["\n   font-size: 16px;\n"]);return Ut=function(){return e},e}function Mt(){var e=Object(m.a)(["\n   color: ",";\n   font-size: 30px;\n   font-weight: bold;\n   margin-right: 30px;\n"]);return Mt=function(){return e},e}function Nt(){var e=Object(m.a)(["\n   max-width: 600px;\n   margin: 20px auto;\n   background: ",";\n   border-radius: 20px;\n   padding: 40px;\n   border: 2px solid ",";\n   li {\n    display: flex;\n    align-items: center;\n    padding: 20px;\n   }\n   h4 {\n    font-size: 20px;\n    font-weight: bold;\n    text-align: center;\n   }\n"]);return Nt=function(){return e},e}var Lt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(Wt,null,a.a.createElement("h4",null,"4 steps to be a hero!"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(Rt,null,"1"),a.a.createElement(Tt,null,"Log in to Slack")),a.a.createElement("li",null,a.a.createElement(Rt,null,"2"),a.a.createElement(Tt,null,"Open random conversation")),a.a.createElement("li",null,a.a.createElement(Rt,null,"3"),a.a.createElement(Tt,null,"Type ",a.a.createElement(Yt,null,"/kudos\xa0@somebody; thank\xa0you for\xa0being\xa0awesome;"))),a.a.createElement("li",null,a.a.createElement(Rt,null,"4"),a.a.createElement(Tt,null,"You're a hero!"))))}}]),t}(r.Component),Wt=f.b.ul(Nt(),p.White,p.Ice),Rt=f.b.div(Mt(),p.Banana),Tt=f.b.div(Ut()),Yt=f.b.span(Pt(),p.GlacierBlue),qt=Lt;function Gt(){var e=Object(m.a)(["\n  margin-top: 2em;\n  color: ","\n"]);return Gt=function(){return e},e}function Jt(){var e=Object(m.a)(["\n  max-width: 600px;\n  font-size: 1rem;\n  margin-bottom: 2rem\n"]);return Jt=function(){return e},e}function Kt(){var e=Object(m.a)(["\n  font-size: 3rem;\n  margin: 1rem;\n  color: ",";\n"]);return Kt=function(){return e},e}function Vt(){var e=Object(m.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  line-height: 1.4;\n"]);return Vt=function(){return e},e}var Qt=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(Xt,null,a.a.createElement(Zt,null,"Kudos for coming!"),a.a.createElement(_t,null,"This app helps to show our thankfulness."),a.a.createElement(zt,null),a.a.createElement(Ht,null,"We're happy you're here! ",a.a.createElement("span",{role:"img","aria-label":"Hug emoji"},"\ud83e\udd17")),a.a.createElement(qt,null))}}]),t}(r.Component),Xt=f.b.section(Vt()),Zt=f.b.h1(Kt(),p.GlacierBlue),_t=f.b.h2(Jt()),Ht=f.b.p(Gt(),p.WarmGray),$t=Qt,en=A(function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.props.authorization.authorized||this.props.history.push(S.loginPath)}},{key:"render",value:function(){return this.props.authorization.authorized?this.props.children:null}}]),t}(r.Component));function tn(e){return function(t){return a.a.createElement(en,t,a.a.createElement(e,t))}}function nn(){var e=Object(m.a)(["\n  text-align: center;\n  \n  h1 {\n    font-size: 2em;\n    margin: 1em 0;\n  }\n"]);return nn=function(){return e},e}var rn=f.b.div(nn()),an=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={error:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.error;if(e){if(e.status)return a.a.createElement(rn,null,a.a.createElement("h1",null,"Network Error ",a.a.createElement("span",{role:"img","aria-label":"thunder"},"\u26a1\ufe0f"),"\ufe0f"),a.a.createElement("p",null,"[",e.status,"] ",e.message));throw e}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(r.Component),on=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={error:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.error;if(e){if(403===e.status)return a.a.createElement(rn,null,a.a.createElement("h1",null,"Authentication Error ",a.a.createElement("span",{role:"img","aria-label":"spy"},"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f")),a.a.createElement("p",null,"[",e.status,"] ",e.message));throw e}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(r.Component),cn=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).state={error:!1},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.state.error?a.a.createElement(rn,null,a.a.createElement("h1",null,"The application failed critically! ",a.a.createElement("span",{role:"img","aria-label":"ugh!"},"\ud83d\ude23"))):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}}]),t}(r.Component);function un(e){var t=e.children;return a.a.createElement(fe,null,a.a.createElement(S,null,t))}var ln=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(de,Object.assign({authorized:!0,from:"slack/logout"},this.props))}}]),t}(r.Component),sn=A(function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(ln,{then:function(){return e.props.authorization.endSession()}},function(){return a.a.createElement("p",null,"Logging you out.")})}}]),t}(r.Component));function hn(){var e=Object(m.a)(["\n  width: 100%;\n  height: calc(100vh - ","px);\n  overflow: scroll;\n  padding: 0 20px;\n  box-sizing: border-box;\n"]);return hn=function(){return e},e}function mn(){var e=Object(m.a)(["\n   background: ",";\n   width: 100vw;\n   height: 100vh;\n   overflow: hidden;\n"]);return mn=function(){return e},e}var fn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(cn,null,a.a.createElement(un,null,a.a.createElement(pn,null,a.a.createElement(U,null),a.a.createElement(bn,null,a.a.createElement(an,null,a.a.createElement(on,null,a.a.createElement(M.a,null,a.a.createElement(N.a,{exact:!0,path:"/",component:$t}),a.a.createElement(N.a,{exact:!0,path:"/logout",component:sn}),a.a.createElement(N.a,{exact:!0,path:"/wall",component:tn(De)}),a.a.createElement(N.a,{exact:!0,path:"/stats",component:tn(Ge)}),a.a.createElement(N.a,{path:"/stats/givers/:year?/:month?",component:tn(Ft)}))))))))}}]),t}(r.Component),pn=f.b.div(mn(),p.Overcast),bn=f.b.main(hn(),70),dn=fn,vn=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(dn,null)}}]),t}(r.Component),gn=n(49);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(gn.a,null,a.a.createElement(vn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,2,1]]]);
//# sourceMappingURL=main.213124d7.chunk.js.map